<div class="container activity-log">
    <div class="row">
        <div class="col-xs-12">
            <i class="fa fa-caret-right pull-left activity-log-icon" ng-click="vm.prev()" ng-hide="vm.isPastDate"></i>
            <div class="pull-left">
                {{ vm.currentDate }}
            </div>
            <i class="fa fa-caret-left pull-right activity-log-icon" ng-click="vm.next()" ng-hide="vm.isFutureDate"></i>
            <div class="pull-right">
                <span data-translate="ACTIVITY_LOG.TOTAL_ACTIVITY_HOURS">סה"כ שעות פעילות</span> {{ vm.totalActivity }}
            </div>
        </div>
        <div class="col-xs-12">
            <div class="row">
                <div class="col-md-12">
                    <div class="portlet light bordered">
                        <div class="portlet-title">
                            <div class="caption font-dark pull-left">
                                <span class="caption-subject bold uppercase" data-translate="ACTIVITY_LOG.LOG">לוג</span>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <table ng-hide="vm.log.length === 0" class="table table-striped table-bordered table-hover table-checkable order-column" id="sample_1">
                                <thead>
                                    <tr>
                                        <th> # </th>
                                        <th data-translate="ACTIVITY_LOG.DATE"> תאריך </th>
                                        <th data-translate="ACTIVITY_LOG.START_DATE"> זמן התחלת פעילות </th>
                                        <th data-translate="ACTIVITY_LOG.END_DATE"> זמן סיום פעילות </th>
                                        <th data-translate="ACTIVITY_LOG.TOTAL_TIME"> משך פעילות </th>
                                        <th data-translate="ACTIVITY_LOG.IS_PASSENGER"> נוסע </th>
                                        <th data-translate="ACTIVITY_LOG.ACTIVITY_END_TYPE"> אופן כיבוי פעילות </th>
                                    </tr>
                                </thead>
                                <tbody ng-hide="vm.log.length === 0" ng-repeat="item in vm.log track by $index">
                                    <tr class="odd gradeX" data-ng-class="{pointer: item.driverStatusLogs.length}" data-ng-click="vm.expand(item)">
                                        <td>
                                            {{ $index + 1 }}
                                        </td>
                                        <td> {{ item.date }} </td>
                                        <td> {{ item.startedAt }} </td>
                                        <td> {{ item.endedAt }} </td>
                                        <td> {{ item.totalTime }} </td>
                                        <td> <input type="checkbox" disabled="disabled" ng-checked="item.driverActivityType == 'PASSENGER'"> </td>
                                        <td> {{ item.activityEndType }} </td>
                                    </tr>
                                    <tr data-ng-show="item.expanded" data-ng-repeat="drivingLog in item.driverStatusLogs" data-ng-class="{stopped: drivingLog.status == 'STOPPED', driving: drivingLog.status == 'DRIVING'}">
                                        <td></td>
                                        <td> {{ drivingLog.date }} </td>
                                        <td> {{ drivingLog.startedAt }} </td>
                                        <td> {{ drivingLog.endedAt }} </td>
                                        <td> {{ drivingLog.totalTime }} </td>
                                        <td></td>
                                        <td> {{ drivingLog.status }}</td>
                                    </tr>
                                </tbody>
                                <div ng-show="vm.log.length === 0" data-translate="ACTIVITY_LOG.NO_RESULT">לא נמצאו תוצאות</div>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>